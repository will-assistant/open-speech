# ─────────────────────────────────────────────────────────────────────────────
# Open Speech — Configuration
#
# Naming convention:
#   OS_*   — Server-level / shared settings
#   STT_*  — Speech-to-text specific
#   TTS_*  — Text-to-speech specific
#
# Old STT_PORT, STT_HOST, STT_API_KEY etc. still work (backwards compat)
# but will log deprecation warnings. Migrate to OS_* names.
#
# Copy to .env and edit as needed. All values shown are defaults.
# ─────────────────────────────────────────────────────────────────────────────

# ── Server ───────────────────────────────────────────────────────────────────
# OS_HOST=0.0.0.0                                          # Bind address
# OS_PORT=8100                                             # Listen port

# ── SSL / HTTPS ──────────────────────────────────────────────────────────────
# OS_SSL_ENABLED=true                                      # Enable HTTPS with self-signed cert
# OS_SSL_CERTFILE=                                         # Path to SSL cert (empty = auto-generate)
# OS_SSL_KEYFILE=                                          # Path to SSL key (empty = auto-generate)

# ── Security ─────────────────────────────────────────────────────────────────
# OS_API_KEY=your-secret-key-here                         # API key (empty=auth disabled)
# OS_AUTH_REQUIRED=false                                   # Fail startup when true and OS_API_KEY is empty
# OS_RATE_LIMIT=0                                          # Requests/min per IP (0=disabled)
# OS_RATE_LIMIT_BURST=0                                    # Burst allowance
# OS_MAX_UPLOAD_MB=100                                     # Max upload file size in MB
# OS_CORS_ORIGINS=*                                        # Comma-separated CORS origins
# OS_TRUST_PROXY=false                                     # Trust X-Forwarded-For headers
# OS_WS_ALLOWED_ORIGINS=                                    # Comma-separated allowed WS Origin values

# ── Wyoming Protocol (Home Assistant) ────────────────────────────────────────
# OS_WYOMING_ENABLED=false                                 # Enable Wyoming TCP server
# OS_WYOMING_HOST=127.0.0.1                                # Wyoming bind address
# OS_WYOMING_PORT=10400                                    # Wyoming protocol port

# ── Speech-to-Text (STT) ────────────────────────────────────────────────────
# STT_MODEL=deepdml/faster-whisper-large-v3-turbo-ct2      # Default STT model
# STT_DEVICE=cuda                                          # cuda or cpu
# STT_COMPUTE_TYPE=float16                                 # float16, int8, int8_float16
# STT_PRELOAD_MODELS=                                      # Comma-separated models to load on startup

# ── Model Lifecycle (shared STT + TTS) ──────────────────────────────────────
# OS_MODEL_TTL=300                                         # Seconds idle before auto-unload (0=never)
# OS_MAX_LOADED_MODELS=0                                   # Max models in memory (0=unlimited)

# ── Streaming (WebSocket) ───────────────────────────────────────────────────
# OS_STREAM_CHUNK_MS=2000                                  # Audio chunk size in ms
# OS_STREAM_VAD_THRESHOLD=0.5                              # Voice activity detection threshold
# OS_STREAM_ENDPOINTING_MS=300                             # Silence before finalizing utterance
# OS_STREAM_MAX_CONNECTIONS=10                             # Max concurrent WebSocket streams
# OS_REALTIME_MAX_BUFFER_MB=50                             # Max realtime input buffer size per session
# OS_REALTIME_IDLE_TIMEOUT_S=120                           # Close idle realtime sessions after N seconds

# ── Text-to-Speech (TTS) ────────────────────────────────────────────────────
# TTS_ENABLED=true                                         # Enable/disable TTS endpoints
# TTS_MODEL=kokoro                                         # Default TTS engine
# TTS_VOICE=af_heart                                       # Default voice
# TTS_SPEED=1.0                                            # Default speech speed
# TTS_DEVICE=                                              # cuda/cpu (inherits STT_DEVICE if empty)
# TTS_MAX_INPUT_LENGTH=4096                                # Max input text characters
# TTS_PRELOAD_MODELS=                                      # Comma-separated TTS models to preload
# TTS_VOICES_CONFIG=                                       # Path to custom voice presets YAML
