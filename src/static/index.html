<!doctype html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Open Speech v0.5.1</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/static/app.css">
</head>
<body>
  <main class="container">
    <header class="header">
      <div class="header-row">
        <h1>Open Speech <span class="version">v0.5.1</span></h1>
        <button id="theme-toggle" class="btn btn-ghost btn-sm" type="button" aria-label="Toggle theme">üåô</button>
      </div>
      <div class="tabs" role="tablist" aria-label="Main tabs">
        <button class="tab active" data-tab="transcribe" role="tab" aria-selected="true">Transcribe</button>
        <button class="tab" data-tab="speak" role="tab" aria-selected="false">Speak</button>
        <button class="tab" data-tab="models" role="tab" aria-selected="false">Models</button>
        <button class="tab" data-tab="history" role="tab" aria-selected="false">History</button>
        <button class="tab" data-tab="settings" role="tab" aria-selected="false">Settings</button>
      </div>
    </header>
    <section id="panel-transcribe" class="panel active" role="tabpanel">
      <article class="card">
        <h2>Speech to Text</h2>
        <div class="field">
          <label for="stt-model">Model</label>
          <select id="stt-model"></select>
        </div>
        <label id="stt-dropzone" class="dropzone" for="stt-file">
          <input id="stt-file" type="file" accept="audio/*" hidden>
          <span>üéµ drag &amp; drop here</span>
          <small>Drop audio file or click to upload</small>
        </label>
        <div class="form-row">
          <button id="mic-btn" class="btn" type="button">üéô Start Mic</button>
          <div class="vad-wrap"><span id="vad-dot" class="status-dot"></span><span id="vad-text">Silence</span></div>
          <div class="field-inline">
            <label for="stt-format">Format</label>
            <select id="stt-format">
              <option value="text">Text</option>
              <option value="json">JSON</option>
              <option value="verbose_json">Verbose JSON</option>
            </select>
          </div>
        </div>
        <div class="result">
          <h3>Result</h3>
          <p><strong>Partial:</strong> <span id="stt-partial">‚Äî</span></p>
          <p><strong>Final:</strong> <span id="stt-final">‚Äî</span>
            <button id="copy-transcript" class="btn btn-ghost btn-sm" type="button">üìã Copy</button>
          </p>
          <p class="result-meta">Duration: <span id="stt-duration">‚Äî</span> ¬∑ Processing: <span id="stt-processing">‚Äî</span>
            <button id="save-transcript" class="btn btn-ghost btn-sm" type="button">‚¨á Save</button>
          </p>
        </div>
      </article>
      <details>
        <summary>Recent Transcriptions</summary>
        <div id="stt-history"></div>
      </details>
    </section>
    <section id="panel-speak" class="panel" role="tabpanel" hidden>
      <article class="card">
        <h2>Text to Speech</h2>
        <div class="form-row profile-row">
          <div class="field">
            <label for="tts-profile">Voice Profile</label>
            <select id="tts-profile"><option value="">‚Äî No Profile ‚Äî</option></select>
          </div>
          <button id="tts-save-profile" class="btn btn-ghost btn-sm" type="button">Save as Profile</button>
        </div>
        <textarea id="tts-input" rows="6" maxlength="5000" placeholder="Enter text to synthesize‚Ä¶"></textarea>
        <div class="form-row space-between">
          <small id="tts-counter">0 / 5,000</small>
          <label class="btn btn-ghost btn-sm" for="tts-upload">üìÑ Upload .txt</label>
          <input id="tts-upload" type="file" accept=".txt,text/plain" hidden>
        </div>
        <div class="form-row two-col">
          <div class="field">
            <label for="tts-model">Model</label>
            <select id="tts-model"></select>
          </div>
          <div class="field">
            <label for="tts-voice">Voice</label>
            <select id="tts-voice"></select>
          </div>
        </div>
        <div class="form-row">
          <label for="tts-speed">Speed</label>
          <input id="tts-speed" type="range" min="0.5" max="2" step="0.1" value="1">
          <span id="tts-speed-value">1.0x</span>
          <div class="field-inline">
            <label for="tts-format">Format</label>
            <select id="tts-format">
              <option value="mp3">MP3</option>
              <option value="wav">WAV</option>
              <option value="pcm">PCM</option>
            </select>
          </div>
        </div>
        <div class="form-row">
          <button id="tts-generate" class="btn" type="button">‚ñ∂ Generate</button>
          <label id="tts-stream-group" class="stream-toggle" hidden><input id="tts-stream" type="checkbox"> Stream</label>
          <button id="tts-download" class="btn btn-ghost" type="button" disabled>‚¨á Download</button>
        </div>
        <details id="tts-advanced" hidden>
          <summary>Advanced</summary>
          <div id="tts-advanced-content"></div>
        </details>
      </article>
      <div id="audio-player" class="audio-player" hidden>
        <audio id="tts-audio" controls></audio>
      </div>
      <details>
        <summary>Recent Generations</summary>
        <div id="tts-history"></div>
      </details>
    </section>
    <section id="panel-models" class="panel" role="tabpanel" hidden>
      <article class="card">
        <div class="card-head">
          <h2>Loaded Models</h2>
          <button id="models-refresh" class="btn btn-ghost btn-sm" type="button">üîÑ Refresh</button>
        </div>
        <p id="loaded-count">0 models loaded</p>
        <table class="models-table">
          <thead><tr><th>Model</th><th>Type</th><th>Device</th><th>Action</th></tr></thead>
          <tbody id="loaded-models-body"></tbody>
        </table>
      </article>
      <article class="card">
        <h2>Available Models</h2>
        <p class="legend">‚óè Provider Missing ‚óè Installed ‚óè Ready ‚óè Loaded</p>
        <div id="available-models"></div>
        <div class="form-row provider-install">
          <label for="provider-select">Install Provider</label>
          <select id="provider-select"></select>
          <button id="provider-install-btn" class="btn btn-sm" type="button">Install</button>
        </div>
      </article>
    </section>
    <section id="panel-history" class="panel" role="tabpanel" hidden>
      <article class="card">
        <h2>History</h2>
        <div class="form-row two-col">
          <div class="field"><label for="history-type">Type</label><select id="history-type"><option value="">All</option><option value="tts">TTS</option><option value="stt">STT</option></select></div>
          <div class="field"><label for="history-search">Search</label><input id="history-search" type="text" placeholder="Filter text/file"></div>
        </div>
        <table class="models-table"><thead><tr><th>Type</th><th>Date</th><th>Text/File</th><th>Model</th><th>Voice</th><th>Actions</th></tr></thead><tbody id="history-body"></tbody></table>
        <div class="form-row"><button id="history-prev" class="btn btn-ghost btn-sm" type="button">Prev</button><span id="history-count">0</span><button id="history-next" class="btn btn-ghost btn-sm" type="button">Next</button><button id="history-clear" class="btn btn-danger btn-sm" type="button">Clear All History</button></div>
      </article>
    </section>
    <section id="panel-settings" class="panel" role="tabpanel" hidden>
      <article class="card">
        <h2>Voice Profiles</h2>
        <div class="form-row"><button id="profile-new" class="btn btn-sm" type="button">New Profile</button></div>
        <table class="models-table"><thead><tr><th>Name</th><th>Backend</th><th>Model</th><th>Voice</th><th>Speed</th><th>Default</th><th>Actions</th></tr></thead><tbody id="profiles-body"></tbody></table>
      </article>
      <article class="card">
        <h2>History Settings</h2>
        <div class="field"><label><input id="history-enabled" type="checkbox" checked> Enable history</label></div>
        <div class="field"><label for="history-max-entries">Max entries</label><input id="history-max-entries" type="number" value="1000"></div>
        <div class="field"><label><input id="history-retain-audio" type="checkbox" checked> Retain audio files</label></div>
        <div class="form-row"><button id="settings-clear-history" class="btn btn-danger btn-sm" type="button">Clear All</button></div>
      </article>
      <dialog id="profile-dialog">
        <form method="dialog" id="profile-form">
          <h3>Profile</h3>
          <div class="field"><label>Name</label><input id="profile-name" required></div>
          <menu class="form-row"><button value="cancel" class="btn btn-ghost btn-sm">Cancel</button><button id="profile-save" value="default" class="btn btn-sm">Save</button></menu>
        </form>
      </dialog>
    </section>
  </main>
  <div id="toast-root" class="toast-root" aria-live="polite"></div>
  <script src="/static/app.js" defer></script>
</body>
</html>
